spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:mysql://localhost:3306/chattingo_db?createDatabaseIfNotExist=true}
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:root}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:}
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect

spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true

# JWT secret (fallback for local dev; override via env: JWT_SECRET)
jwt.secret=${JWT_SECRET:chattingo-super-secure-jwt-secret-key-for-development-that-is-long-enough-for-hmac-sha-algorithms}

# CORS Configuration (can be overridden by environment variables)
cors.allowed.origins=${CORS_ALLOWED_ORIGINS:http://localhost:3000,http://localhost}
cors.allowed.methods=${CORS_ALLOWED_METHODS:GET,POST,PUT,DELETE,OPTIONS}

# Logging Configuration
logging.config=classpath:logback-spring.xml
logging.level.com.chattingo=INFO
logging.level.org.springframework.security=WARN
logging.level.org.hibernate=WARN
logging.level.org.springframework.web.socket=DEBUG

# Log file path (overridden by LOG_PATH env var)
log.path=${LOG_PATH:./logs}

# Actuator Configuration for Monitoring
management.endpoints.web.exposure.include=health,info,metrics,prometheus,logfile,loggers
management.endpoint.health.show-details=when-authorized
management.endpoint.health.probes.enabled=true
management.health.livenessstate.enabled=true
management.health.readinessstate.enabled=true
management.metrics.export.prometheus.enabled=true

# Application Information
spring.application.name=chattingo-backend
info.app.name=Chattingo Chat Application
info.app.description=Real-time chat application with comprehensive logging
info.app.version=1.0.0

# Log Rotation Configuration (Container-only, S3 upload handled by host service)
log.rotation.enabled=${LOG_ROTATION_ENABLED:true}
log.rotation.max-age-days=${LOG_ROTATION_MAX_AGE_DAYS:7}
log.rotation.max-size-mb=${LOG_ROTATION_MAX_SIZE_MB:100}

# Server Configuration
server.port=${SERVER_PORT:8080}
server.servlet.context-path=/

# Timezone Configuration - Set to Indian Standard Time
spring.jackson.time-zone=Asia/Kolkata
user.timezone=Asia/Kolkata

# Enable async processing for better performance
spring.task.execution.pool.core-size=10
spring.task.execution.pool.max-size=50
spring.task.execution.pool.queue-capacity=100
spring.task.scheduling.pool.size=5
